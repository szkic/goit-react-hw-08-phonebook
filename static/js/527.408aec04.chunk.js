"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[527],{8527:function(e,n,t){t.r(n),t.d(n,{default:function(){return R}});var r=t(9439),a=t(9218),i=t(9434),l=t(3165),o=t(2791),s=t(6151),c=t(3634),d=t(6916),u=function(e){return e.contacts.isLoading},h=function(e){return e.contacts.error},m=function(e){return e.contacts.contacts},x=(0,d.P1)([m,function(e){return e.filters}],(function(e,n){return""===n?e:e.filter((function(e){var t;return null!==(t=e.name.toLowerCase().includes(n.filter))&&void 0!==t?t:[]}))})),j=t(184),f={container:["flex","justify-center"].join(" "),form:["flex","flex-col","items-start","max-w-sm"].join(" "),label:["flex","flex-col","mb-5","w-60"].join(" ")},b=function(e){var n=e.onSubmit;return(0,j.jsx)("div",{className:f.container,children:(0,j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(e)},className:f.form,children:[(0,j.jsx)("label",{className:f.label,children:(0,j.jsx)(a.Z,{type:"text",size:"small",name:"name",label:"Name",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})}),(0,j.jsx)("label",{className:f.label,children:(0,j.jsx)(a.Z,{type:"tel",size:"small",name:"number",label:"Number",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})}),(0,j.jsx)(s.Z,{type:"submit",variant:"contained",style:{margin:"0 auto"},children:"Save"})]})})},p=t(4554),Z=t(8595),v={box:["absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","rounded-xl","bg-slate-50","p-9","shadow-lg"].join(" "),boxTitle:["text-center","pb-7","uppercase","font-semibold"].join(" ")},g=function(e){var n=e.open,t=e.handleModalClose,r=e.children,a=e.title;return(0,j.jsx)(Z.Z,{open:n,onClose:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,j.jsxs)(p.Z,{className:v.box,children:[(0,j.jsx)("h3",{className:v.boxTitle,children:a}),r]})})},C=["flex","items-center","justify-evenly","border-b-2","border-neutral-400","p-2","mb-4"].join(" "),k=function(){var e=(0,o.useState)(!1),n=(0,r.Z)(e,2),t=n[0],d=n[1],u=(0,i.I0)(),h=(0,i.v9)(m).map((function(e){return e.name}));return(0,j.jsxs)("div",{className:C,children:[(0,j.jsx)(a.Z,{size:"small",label:"Find contact by name",onChange:function(e){return u((0,l.W)(e.target.value))}}),(0,j.jsx)(s.Z,{onClick:function(){return d(!0)},variant:"outlined",children:"Add contact"}),(0,j.jsx)(g,{open:t,handleModalClose:function(){return d(!1)},title:"Add contact",children:(0,j.jsx)(b,{onSubmit:function(e){e.preventDefault();var n=e.target,t=n.elements.name.value,r={name:t,number:n.elements.number.value};if(h.includes(t))return n.reset(),alert("".concat(t," is alredy in contacts"));u((0,c.uK)(r)),d(!1),n.reset()}})})]})},y=t(7247),w=t(1286),N=t(2460),P=t(9836),S=t(6890),A=t(5855),D=t(3994),z=t(720),I=t(3382),F=t(3768),M=t(3400),T=t(799),W=t(5289),_=t(5661),q=t(9157),L=t(1691),B=t(7123);function E(e,n,t){return n[t]<e[t]?-1:n[t]>e[t]?1:0}var K=function(e,n){var t=e.map((function(e,n){return[e,n]}));return t.sort((function(e,t){var r=n(e[0],t[0]);return 0!==r?r:e[1]-t[1]})),t.map((function(e){return e[0]}))},G=function(){var e,n,t=(0,o.useState)("asc"),a=(0,r.Z)(t,2),l=a[0],d=a[1],u=(0,o.useState)(""),h=(0,r.Z)(u,2),m=h[0],f=h[1],p=(0,o.useState)(0),Z=(0,r.Z)(p,2),v=Z[0],C=Z[1],k=(0,o.useState)(5),G=(0,r.Z)(k,2),J=G[0],O=G[1],R=(0,o.useState)(!1),Y=(0,r.Z)(R,2),H=Y[0],Q=Y[1],U=(0,o.useState)(!1),V=(0,r.Z)(U,2),X=V[0],$=V[1],ee=(0,i.v9)(x),ne=(0,i.I0)(),te="name",re=function(e){f(e.currentTarget.id),$(!0)},ae=function(){$(!1)},ie=function(e){f(e.currentTarget.id),Q(!0)};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(P.Z,{children:[(0,j.jsx)(S.Z,{children:(0,j.jsxs)(A.Z,{children:[(0,j.jsx)(D.Z,{sx:{fontWeight:900,width:"40%"},children:(0,j.jsx)(z.Z,{active:!0,direction:l,onClick:function(e){d("asc"===l?"desc":"asc")},children:"Name"})},"name"),(0,j.jsx)(D.Z,{sx:{fontWeight:900},children:"Phone number"},"number"),(0,j.jsx)(D.Z,{align:"right",sx:{fontWeight:900},children:"Actions"})]})}),(0,j.jsx)(I.Z,{children:K(ee,(e=l,n=te,"desc"===e?function(e,t){return E(e,t,n)}:function(e,t){return-E(e,t,n)})).slice(v*J,v*J+J).map((function(e){return(0,j.jsxs)(A.Z,{children:[(0,j.jsx)(D.Z,{children:e.name}),(0,j.jsx)(D.Z,{children:e.number}),(0,j.jsxs)(D.Z,{align:"right",children:[(0,j.jsx)(F.Z,{title:"Edit",children:(0,j.jsx)(M.Z,{"aria-label":"edit",id:e.id,onClick:ie,children:(0,j.jsx)(w.Z,{})})}),(0,j.jsx)(F.Z,{title:"Delete",children:(0,j.jsx)(M.Z,{"aria-label":"delete",sx:{color:N.Z[500]},id:e.id,onClick:re,children:(0,j.jsx)(y.Z,{fontSize:"small"})})})]})]},e.id)}))})]}),(0,j.jsx)(T.Z,{rowsPerPageOptions:[5,10],component:"div",count:ee.length,rowsPerPage:J,page:v,onPageChange:function(e,n){return C(n)},onRowsPerPageChange:function(e){O(parseInt(e.target.value),10),C(0)}}),(0,j.jsx)(g,{open:H,handleModalClose:function(){return Q(!1)},title:"Edit contact",children:(0,j.jsx)(b,{onSubmit:function(e){e.preventDefault();var n=e.target,t={name:n.elements.name.value,number:n.elements.number.value,contactId:m};ne((0,c.mP)(t)),n.reset()}})}),(0,j.jsxs)(W.Z,{open:X,onClose:ae,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,j.jsx)(_.Z,{id:"alert-dialog-title",children:"Delete Contact"}),(0,j.jsx)(q.Z,{children:(0,j.jsx)(L.Z,{id:"alert-dialog-description",children:"Are you sure you want to delete contact?"})}),(0,j.jsxs)(B.Z,{children:[(0,j.jsx)(s.Z,{onClick:ae,children:"No"}),(0,j.jsx)(s.Z,{onClick:function(){return ne((0,c.GK)(m))},autoFocus:!0,variant:"contained",children:"Yes, I'm sure"})]})]})]})},J=t(6907),O={phonebookContainer:["pt-10"].join(" "),phonebook:["text-5xl","pb-14","text-center","uppercase"].join(" "),contacts:["text-3xl","pb-4","pt-10","text-center"].join(" ")},R=function(){var e=(0,i.v9)(u),n=(0,i.v9)(h);return(0,j.jsxs)("div",{className:O.phonebookContainer,children:[(0,j.jsx)(J.B6,{children:(0,j.jsx)(J.ql,{children:(0,j.jsx)("title",{children:"Phonebook"})})}),(0,j.jsx)("h1",{className:O.phonebook,children:"Phonebook"}),(0,j.jsx)(k,{}),e?(0,j.jsx)("p",{children:"Loading contacts..."}):(0,j.jsx)(G,{}),n&&(0,j.jsx)("p",{children:"Data loading error"})]})}}}]);
//# sourceMappingURL=527.408aec04.chunk.js.map