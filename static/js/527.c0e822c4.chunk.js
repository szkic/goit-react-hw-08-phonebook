"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[527],{8527:function(e,n,t){t.r(n),t.d(n,{default:function(){return O}});var r=t(9439),a=t(9218),i=t(9434),l=t(3165),o=t(6151),s=t(184),c={container:["flex","justify-center"].join(" "),form:["flex","flex-col","items-start","max-w-sm"].join(" "),label:["flex","flex-col","mb-5","w-60"].join(" ")},u=function(e){var n=e.onSubmit;return(0,s.jsx)("div",{className:c.container,children:(0,s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(e)},className:c.form,children:[(0,s.jsx)("label",{className:c.label,children:(0,s.jsx)(a.Z,{type:"text",size:"small",name:"name",label:"Name",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})}),(0,s.jsx)("label",{className:c.label,children:(0,s.jsx)(a.Z,{type:"tel",size:"small",name:"number",label:"Number",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})}),(0,s.jsx)(o.Z,{type:"submit",variant:"contained",style:{margin:"0 auto"},children:"Save"})]})})},d=t(2791),m=t(4554),h=t(8595),x=["absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","rounded-xl","bg-slate-50","p-9","shadow-lg"].join(" "),f=function(e){var n=e.open,t=e.handleModalClose,r=e.children;return(0,s.jsx)(h.Z,{open:n,onClose:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,s.jsx)(m.Z,{className:x,children:r})})},j=t(3634),b=t(6916),p=function(e){return e.contacts.isLoading},Z=function(e){return e.contacts.error},v=function(e){return e.contacts.contacts},g=(0,b.P1)([v,function(e){return e.filters}],(function(e,n){return""===n?e:e.filter((function(e){var t;return null!==(t=e.name.toLowerCase().includes(n.filter))&&void 0!==t?t:[]}))})),C=["flex","items-center","justify-evenly","border-b-2","border-neutral-400","p-2","mb-4"].join(" "),y=function(){var e=(0,d.useState)(!1),n=(0,r.Z)(e,2),t=n[0],c=n[1],m=(0,i.I0)(),h=(0,i.v9)(v).map((function(e){return e.name}));return(0,s.jsxs)("div",{className:C,children:[(0,s.jsx)(a.Z,{size:"small",label:"Find contact by name",onChange:function(e){return m((0,l.W)(e.target.value))}}),(0,s.jsx)(o.Z,{onClick:function(){return c(!0)},variant:"outlined",children:"Add contact"}),(0,s.jsx)(f,{open:t,handleModalClose:function(){return c(!1)},children:(0,s.jsx)(u,{onSubmit:function(e){e.preventDefault();var n=e.target,t=n.elements.name.value,r={name:t,number:n.elements.number.value};if(h.includes(t))return n.reset(),alert("".concat(t," is alredy in contacts"));m((0,j.uK)(r)),c(!1),n.reset()}})})]})},k=t(7247),w=t(1286),N=t(2460),S=t(9836),P=t(6890),D=t(5855),z=t(3994),A=t(720),I=t(3382),F=t(3768),M=t(3400),W=t(799),_=t(5289),L=t(5661),q=t(9157),K=t(1691),T=t(7123);function B(e,n,t){return n[t]<e[t]?-1:n[t]>e[t]?1:0}var E=function(e,n){var t=e.map((function(e,n){return[e,n]}));return t.sort((function(e,t){var r=n(e[0],t[0]);return 0!==r?r:e[1]-t[1]})),t.map((function(e){return e[0]}))},G=function(){var e,n,t=(0,d.useState)("asc"),a=(0,r.Z)(t,2),l=a[0],c=a[1],m=(0,d.useState)(""),h=(0,r.Z)(m,2),x=h[0],b=h[1],p=(0,d.useState)(0),Z=(0,r.Z)(p,2),v=Z[0],C=Z[1],y=(0,d.useState)(5),G=(0,r.Z)(y,2),J=G[0],O=G[1],R=(0,d.useState)(!1),Y=(0,r.Z)(R,2),H=Y[0],Q=Y[1],U=(0,d.useState)(!1),V=(0,r.Z)(U,2),X=V[0],$=V[1],ee=(0,i.v9)(g),ne=(0,i.I0)(),te="name",re=function(e){b(e.currentTarget.id),$(!0)},ae=function(){$(!1)},ie=function(e){b(e.currentTarget.id),Q(!0)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(S.Z,{children:[(0,s.jsx)(P.Z,{children:(0,s.jsxs)(D.Z,{children:[(0,s.jsx)(z.Z,{sx:{fontWeight:900,width:"40%"},children:(0,s.jsx)(A.Z,{active:!0,direction:l,onClick:function(e){c("asc"===l?"desc":"asc")},children:"Name"})},"name"),(0,s.jsx)(z.Z,{sx:{fontWeight:900},children:"Phone number"},"number"),(0,s.jsx)(z.Z,{align:"right",sx:{fontWeight:900},children:"Actions"})]})}),(0,s.jsx)(I.Z,{children:E(ee,(e=l,n=te,"desc"===e?function(e,t){return B(e,t,n)}:function(e,t){return-B(e,t,n)})).slice(v*J,v*J+J).map((function(e){return(0,s.jsxs)(D.Z,{children:[(0,s.jsx)(z.Z,{children:e.name}),(0,s.jsx)(z.Z,{children:e.number}),(0,s.jsxs)(z.Z,{align:"right",children:[(0,s.jsx)(F.Z,{title:"Edit",children:(0,s.jsx)(M.Z,{"aria-label":"edit",id:e.id,onClick:ie,children:(0,s.jsx)(w.Z,{})})}),(0,s.jsx)(F.Z,{title:"Delete",children:(0,s.jsx)(M.Z,{"aria-label":"delete",sx:{color:N.Z[500]},id:e.id,onClick:re,children:(0,s.jsx)(k.Z,{fontSize:"small"})})})]})]},e.id)}))})]}),(0,s.jsx)(W.Z,{rowsPerPageOptions:[5,10],component:"div",count:ee.length,rowsPerPage:J,page:v,onPageChange:function(e,n){return C(n)},onRowsPerPageChange:function(e){O(parseInt(e.target.value),10),C(0)}}),(0,s.jsx)(f,{open:H,handleModalClose:function(){return Q(!1)},children:(0,s.jsx)(u,{onSubmit:function(e){e.preventDefault();var n=e.target,t={name:n.elements.name.value,number:n.elements.number.value,contactId:x};ne((0,j.mP)(t)),n.reset()}})}),(0,s.jsxs)(_.Z,{open:X,onClose:ae,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,s.jsx)(L.Z,{id:"alert-dialog-title",children:"Delete Contact"}),(0,s.jsx)(q.Z,{children:(0,s.jsx)(K.Z,{id:"alert-dialog-description",children:"Are you sure you want to delete contact?"})}),(0,s.jsxs)(T.Z,{children:[(0,s.jsx)(o.Z,{onClick:ae,children:"No"}),(0,s.jsx)(o.Z,{onClick:function(){return ne((0,j.GK)(x))},autoFocus:!0,variant:"contained",children:"Yes, I'm sure"})]})]})]})},J={phonebookContainer:["pt-10"].join(" "),phonebook:["text-5xl","pb-14","text-center"].join(" "),contacts:["text-3xl","pb-4","pt-10","text-center"].join(" ")},O=function(){var e=(0,i.v9)(p),n=(0,i.v9)(Z);return(0,s.jsxs)("div",{className:J.phonebookContainer,children:[(0,s.jsx)("h1",{className:J.phonebook,children:"Phonebook"}),(0,s.jsx)(y,{}),e?(0,s.jsx)("p",{children:"Loading contacts..."}):(0,s.jsx)(G,{}),n&&(0,s.jsx)("p",{children:"Data loading error"})]})}}}]);
//# sourceMappingURL=527.c0e822c4.chunk.js.map