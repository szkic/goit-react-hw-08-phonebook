"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[527],{8527:function(e,n,t){t.r(n),t.d(n,{default:function(){return B}});var r=t(9439),a=t(9218),i=t(9434),l=t(3165),s=t(6151),o=t(184),c={form:["flex","flex-col","items-start","max-w-sm"].join(" "),label:["flex","flex-col","mb-5","w-60"].join(" ")},u=function(e){var n=e.onSubmit;return(0,o.jsx)("div",{className:"flex justify-center",children:(0,o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(e)},className:c.form,children:[(0,o.jsx)("label",{className:c.label,children:(0,o.jsx)(a.Z,{type:"text",size:"small",name:"name",label:"Name",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})}),(0,o.jsx)("label",{className:c.label,children:(0,o.jsx)(a.Z,{type:"tel",size:"small",name:"number",label:"Number",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})}),(0,o.jsx)(s.Z,{type:"submit",variant:"contained",children:"Accept"})]})})},d=t(2791),m=t(6747),h=t(5391),x=["absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","rounded-xl","bg-slate-50","p-9","shadow-lg"].join(" "),f=function(e){var n=e.open,t=e.handleModalClose,r=e.children;return(0,o.jsx)(h.Z,{open:n,onClose:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,o.jsx)(m.Z,{className:x,children:r})})},j=t(3634),b=t(6916),p=function(e){return e.contacts.isLoading},v=function(e){return e.contacts.error},Z=function(e){return e.contacts.contacts},g=(0,b.P1)([Z,function(e){return e.filters}],(function(e,n){return""===n?e:e.filter((function(e){var t;return null!==(t=e.name.toLowerCase().includes(n.filter))&&void 0!==t?t:[]}))})),C=["flex","items-center","justify-evenly","border-b-2","border-neutral-400","p-2","mb-4"].join(" "),k=function(){var e=(0,d.useState)(!1),n=(0,r.Z)(e,2),t=n[0],c=n[1],m=(0,i.I0)(),h=(0,i.v9)(Z).map((function(e){return e.name}));return(0,o.jsxs)("div",{className:C,children:[(0,o.jsx)(a.Z,{size:"small",label:"Find contact by name",onChange:function(e){return m((0,l.W)(e.target.value))}}),(0,o.jsx)(s.Z,{onClick:function(){return c(!0)},variant:"outlined",children:"Add contact"}),(0,o.jsx)(f,{open:t,handleModalClose:function(){return c(!1)},children:(0,o.jsx)(u,{onSubmit:function(e){e.preventDefault();var n=e.target,t=n.elements.name.value,r={name:t,number:n.elements.number.value};if(h.includes(t))return n.reset(),alert("".concat(t," is alredy in contacts"));m((0,j.uK)(r)),c(!1),n.reset()}})})]})},w=t(7247),y=t(1286),N=t(2460),P=t(9836),S=t(6890),z=t(5855),A=t(3994),D=t(720),I=t(3382),M=t(3768),W=t(3400),_=t(799);function F(e,n,t){return n[t]<e[t]?-1:n[t]>e[t]?1:0}var L=function(e,n){var t=e.map((function(e,n){return[e,n]}));return t.sort((function(e,t){var r=n(e[0],t[0]);return 0!==r?r:e[1]-t[1]})),t.map((function(e){return e[0]}))},q=function(){var e,n,t=(0,d.useState)("asc"),a=(0,r.Z)(t,2),l=a[0],s=a[1],c=(0,d.useState)(""),m=(0,r.Z)(c,2),h=m[0],x=m[1],b=(0,d.useState)(0),p=(0,r.Z)(b,2),v=p[0],Z=p[1],C=(0,d.useState)(5),k=(0,r.Z)(C,2),q=k[0],K=k[1],B=(0,d.useState)(!1),E=(0,r.Z)(B,2),G=E[0],J=E[1],O=(0,i.v9)(g),R=(0,i.I0)(),T="name",H=function(e){x(e.currentTarget.id),J(!0)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(P.Z,{children:[(0,o.jsx)(S.Z,{children:(0,o.jsxs)(z.Z,{children:[(0,o.jsx)(A.Z,{sx:{fontWeight:900,width:"40%"},children:(0,o.jsx)(D.Z,{active:!0,direction:l,onClick:function(e){s("asc"===l?"desc":"asc")},children:"Name"})},"name"),(0,o.jsx)(A.Z,{sx:{fontWeight:900},children:"Phone number"},"number"),(0,o.jsx)(A.Z,{align:"right",sx:{fontWeight:900},children:"Actions"})]})}),(0,o.jsx)(I.Z,{children:L(O,(e=l,n=T,"desc"===e?function(e,t){return F(e,t,n)}:function(e,t){return-F(e,t,n)})).slice(v*q,v*q+q).map((function(e){return(0,o.jsxs)(z.Z,{children:[(0,o.jsx)(A.Z,{children:e.name}),(0,o.jsx)(A.Z,{children:e.number}),(0,o.jsxs)(A.Z,{align:"right",children:[(0,o.jsx)(M.Z,{title:"Edit",children:(0,o.jsx)(W.Z,{"aria-label":"edit",id:e.id,onClick:H,children:(0,o.jsx)(y.Z,{})})}),(0,o.jsx)(M.Z,{title:"Delete",children:(0,o.jsx)(W.Z,{"aria-label":"delete",sx:{color:N.Z[500]},onClick:function(){return R((0,j.GK)(e.id))},children:(0,o.jsx)(w.Z,{fontSize:"small"})})})]})]},e.id)}))})]}),(0,o.jsx)(_.Z,{rowsPerPageOptions:[5,10],component:"div",count:O.length,rowsPerPage:q,page:v,onPageChange:function(e,n){return Z(n)},onRowsPerPageChange:function(e){K(parseInt(e.target.value),10),Z(0)}}),(0,o.jsx)(f,{open:G,handleModalClose:function(){return J(!1)},children:(0,o.jsx)(u,{onSubmit:function(e){e.preventDefault();var n=e.target,t={name:n.elements.name.value,number:n.elements.number.value,contactId:h};R((0,j.mP)(t)),n.reset()}})})]})},K={phonebookContainer:["pt-10"].join(" "),phonebook:["text-5xl","pb-14","text-center"].join(" "),contacts:["text-3xl","pb-4","pt-10","text-center"].join(" ")},B=function(){var e=(0,i.v9)(p),n=(0,i.v9)(v);return(0,o.jsxs)("div",{className:K.phonebookContainer,children:[(0,o.jsx)("h1",{className:K.phonebook,children:"Phonebook"}),(0,o.jsx)(k,{}),e?(0,o.jsx)("p",{children:"Loading contacts..."}):(0,o.jsx)(q,{}),n&&(0,o.jsx)("p",{children:"Data loading error"})]})}}}]);
//# sourceMappingURL=527.37d409aa.chunk.js.map