"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[527],{8527:function(e,t,n){n.r(t),n.d(t,{default:function(){return J}});var r=n(9439),o=n(9218),s=n(9434),a=n(3165),i=n(2791),l=n(6151),c=n(3634),u=n(6916),d=function(e){return e.contacts.isLoading},x=function(e){return e.contacts.error},h=function(e){return e.contacts.contacts},m=(0,u.P1)([h,function(e){return e.filters}],(function(e,t){return""===t?e:e.filter((function(e){var n;return null!==(n=e.name.toLowerCase().includes(t.filter))&&void 0!==n?n:[]}))})),p=n(184),g={container:["flex","justify-center"].join(" "),form:["flex","flex-col","items-start","max-w-sm"].join(" "),label:["flex","flex-col","mb-5","w-60"].join(" ")},b=function(e){var t=e.onSubmit;return(0,p.jsx)("div",{className:g.container,children:(0,p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(e)},className:g.form,children:[(0,p.jsx)("label",{className:g.label,children:(0,p.jsx)(o.Z,{type:"text",size:"small",name:"name",label:"Name",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})}),(0,p.jsx)("label",{className:g.label,children:(0,p.jsx)(o.Z,{type:"tel",size:"small",name:"number",label:"Number",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})}),(0,p.jsx)(l.Z,{type:"submit",variant:"contained",style:{margin:"0 auto"},children:"Save"})]})})},f=n(4554),j=n(8595),v={box:["absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","rounded-xl","bg-slate-50","p-9","shadow-lg"].join(" "),boxTitle:["text-center","pb-7","uppercase","font-semibold"].join(" ")},C=function(e){var t=e.open,n=e.handleModalClose,r=e.children,o=e.title;return(0,p.jsx)(j.Z,{open:t,onClose:n,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,p.jsxs)(f.Z,{className:v.box,children:[(0,p.jsx)("h3",{className:v.boxTitle,children:o}),r]})})},Z=n(5206),k=(n(5462),["flex","items-center","justify-evenly","border-b-2","border-neutral-400","p-2","mb-4"].join(" ")),P=function(){var e=(0,i.useState)(!1),t=(0,r.Z)(e,2),n=t[0],u=t[1],d=(0,s.I0)(),x=(0,s.v9)(h).map((function(e){return e.name}));return(0,p.jsxs)("div",{className:k,children:[(0,p.jsx)(o.Z,{size:"small",label:"Find contact by name",onChange:function(e){return d((0,a.W)(e.target.value))}}),(0,p.jsx)(l.Z,{onClick:function(){return u(!0)},variant:"outlined",children:"Add contact"}),(0,p.jsx)(C,{open:n,handleModalClose:function(){return u(!1)},title:"Add contact",children:(0,p.jsx)(b,{onSubmit:function(e){e.preventDefault();var t=e.target,n=t.elements.name.value,r=t.elements.number.value,o={name:n,number:r};if(x.includes(n))return Z.Am.error("".concat(n," is alredy in contacts"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"});if(!/^[ ',-\.A-Za-z\xC0-\xCF\xD1-\xD6\xD8-\xDD\xDF-\xE5\xE7-\xF6\xF8-\xFD\xFF\u0104-\u0107\u010C\u010D\u0116-\u0119\u012E\u012F\u0141-\u0144\u0152\u0160\u0161\u016A\u016B\u0172\u0173\u0178-\u017E\u2202]+$/.test(n))return Z.Am.error("Please enter right name",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"});if(!/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{3})$/.test(r))return Z.Am.error("Please enter the correct number xxx-xxx-xxx",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"});d((0,c.uK)(o)),u(!1),Z.Am.success("Contact added",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}),t.reset()}})}),(0,p.jsx)(Z.Ix,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"})]})},O=n(7247),D=n(1286),F=n(2460),y=n(9836),A=n(6890),w=n(5855),B=n(3994),N=n(720),S=n(3382),E=n(3768),H=n(3400),z=n(799),I=n(5289),T=n(5661),L=n(9157),M=n(1691),W=n(7123);function $(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}var _=function(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]})),n.map((function(e){return e[0]}))},q=function(){var e,t,n=(0,i.useState)("asc"),o=(0,r.Z)(n,2),a=o[0],u=o[1],d=(0,i.useState)(""),x=(0,r.Z)(d,2),h=x[0],g=x[1],f=(0,i.useState)(0),j=(0,r.Z)(f,2),v=j[0],k=j[1],P=(0,i.useState)(5),q=(0,r.Z)(P,2),K=q[0],G=q[1],J=(0,i.useState)(!1),R=(0,r.Z)(J,2),Y=R[0],Q=R[1],U=(0,i.useState)(!1),V=(0,r.Z)(U,2),X=V[0],ee=V[1],te=(0,s.v9)(m),ne=(0,s.I0)(),re="name",oe=function(e){g(e.currentTarget.id),ee(!0)},se=function(){ee(!1)},ae=function(e){g(e.currentTarget.id),Q(!0)};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(y.Z,{children:[(0,p.jsx)(A.Z,{children:(0,p.jsxs)(w.Z,{children:[(0,p.jsx)(B.Z,{sx:{fontWeight:900,width:"40%"},children:(0,p.jsx)(N.Z,{active:!0,direction:a,onClick:function(e){u("asc"===a?"desc":"asc")},children:"Name"})},"name"),(0,p.jsx)(B.Z,{sx:{fontWeight:900},children:"Phone number"},"number"),(0,p.jsx)(B.Z,{align:"right",sx:{fontWeight:900},children:"Actions"})]})}),(0,p.jsx)(S.Z,{children:_(te,(e=a,t=re,"desc"===e?function(e,n){return $(e,n,t)}:function(e,n){return-$(e,n,t)})).slice(v*K,v*K+K).map((function(e){return(0,p.jsxs)(w.Z,{children:[(0,p.jsx)(B.Z,{children:e.name}),(0,p.jsx)(B.Z,{children:e.number}),(0,p.jsxs)(B.Z,{align:"right",children:[(0,p.jsx)(E.Z,{title:"Edit",children:(0,p.jsx)(H.Z,{"aria-label":"edit",id:e.id,sx:{":hover":{color:"#1876D1"}},onClick:ae,children:(0,p.jsx)(D.Z,{})})}),(0,p.jsx)(E.Z,{title:"Delete",children:(0,p.jsx)(H.Z,{"aria-label":"delete",sx:{color:F.Z[500],":hover":{color:"#e30022"}},id:e.id,onClick:oe,children:(0,p.jsx)(O.Z,{fontSize:"small"})})})]})]},e.id)}))})]}),(0,p.jsx)(z.Z,{rowsPerPageOptions:[5,10],component:"div",count:te.length,rowsPerPage:K,page:v,onPageChange:function(e,t){return k(t)},onRowsPerPageChange:function(e){G(parseInt(e.target.value),10),k(0)}}),(0,p.jsx)(C,{open:Y,handleModalClose:function(){return Q(!1)},title:"Edit contact",children:(0,p.jsx)(b,{onSubmit:function(e){e.preventDefault();var t=e.target,n=t.elements.name.value,r=t.elements.number.value,o={name:n,number:r,contactId:h};if(!/^[ ',-\.A-Za-z\xC0-\xCF\xD1-\xD6\xD8-\xDD\xDF-\xE5\xE7-\xF6\xF8-\xFD\xFF\u0104-\u0107\u010C\u010D\u0116-\u0119\u012E\u012F\u0141-\u0144\u0152\u0160\u0161\u016A\u016B\u0172\u0173\u0178-\u017E\u2202]+$/.test(n))return Z.Am.error("Please enter right name",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"});if(!/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{3})$/.test(r))return Z.Am.error("Please enter the correct number xxx-xxx-xxx",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"});ne((0,c.mP)(o)),Z.Am.info("Contact changed",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}),t.reset()}})}),(0,p.jsxs)(I.Z,{open:X,onClose:se,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,p.jsx)(T.Z,{id:"alert-dialog-title",children:"Delete Contact"}),(0,p.jsx)(L.Z,{children:(0,p.jsx)(M.Z,{id:"alert-dialog-description",children:"Are you sure you want to delete contact?"})}),(0,p.jsxs)(W.Z,{children:[(0,p.jsx)(l.Z,{onClick:se,children:"No"}),(0,p.jsx)(l.Z,{onClick:function(){ne((0,c.GK)(h)),Z.Am.success("Contact deleted",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})},autoFocus:!0,variant:"contained",children:"Yes, I'm sure"})]})]}),(0,p.jsx)(Z.Ix,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"})]})},K=n(6907),G={phonebookContainer:["pt-10"].join(" "),phonebook:["text-5xl","pb-14","text-center","uppercase"].join(" "),contacts:["text-3xl","pb-4","pt-10","text-center"].join(" ")},J=function(){var e=(0,s.v9)(d),t=(0,s.v9)(x);return(0,p.jsxs)("div",{className:G.phonebookContainer,children:[(0,p.jsx)(K.B6,{children:(0,p.jsx)(K.ql,{children:(0,p.jsx)("title",{children:"Phonebook"})})}),(0,p.jsx)("h2",{className:G.phonebook,children:"Phonebook"}),(0,p.jsx)(P,{}),e?(0,p.jsx)("p",{children:"Loading contacts..."}):(0,p.jsx)(q,{}),t&&(0,p.jsx)("p",{children:"Data loading error"})]})}}}]);
//# sourceMappingURL=527.ebf0650a.chunk.js.map